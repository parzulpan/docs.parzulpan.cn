<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>HTML5 服务器发送事件(Server-Sent Events)</title>
</head>
<body>
<!--Server-Sent事件指的是网页自动获取来自服务器的更新。-->
<!--以前也可能做到这一点，前提是网页不得不询问是否有可用的更新。通过服务器发送事件，更新能够自动到达。-->
<h1>获取服务端更新数据</h1>
<div id="result"></div>

<script>
    if(typeof(EventSource) !== 'undefined') {
        let source = new EventSource('demo_sse.php');
        source.onmessage = function (event) {
            document.getElementById("result").innerHTML += event.data + "<br/>";
        };
    } else {
        document.getElementById("result").innerHTML = "对不起，你的浏览器不支持 server-sent 事件."
    }
</script>

</body>
</html>