<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vue.js 实例</title>
    <script src="../resources/vue.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>

<div id="app">
    <p>{{foo}}</p>
    <!--这里的foo不会更新！-->
    <button v-on:click="foo = 'baz'">Change it</button>
</div>

<script>
    // 所有的Vue组件都是Vue实例，并且接受相同的选项对象(一些根实例特有的选项除外)
    // 当一个Vue实例被创建时，它将data对象中的所有的property加入大Vue的响应式系统中，
    // 当这些property的值发生改变时，视图将会产生"响应"，即匹配更新为新的值。
    let data = {a: 1}

    let vm = new Vue({
        data: data
    })

    alert(vm.a === data.a)  // true

    vm.a = 2
    alert(data.a)   // 2

    data.a = 3
    alert(vm.a) // 3

    // 一个唯一的例外是使用Object.freeze()，这会阻止修改现有的property，也意味着响应系统无法再追踪变化
    let obj = {
        foo: 'bar'
    }
    Object.freeze(obj)
    let vm1 = new Vue({
        el: '#app',
        data: obj
    })

    // 除了数据 property，Vue 实例还暴露了一些有用的实例 property 与方法。
    // 它们都有前缀 $，以便与用户定义的 property 区分开来。


    // 每个Vue实例在被创建时都要经过一系列的初始化过程，比如需要设置数据监听、编译模板、将实例挂载在DOM并在数据变换时更新DOM等。
    // 同时，在这个过程中，也会运行一些叫做生命周期钩子的函数，这给用户在不同阶段添加自己的代码的机会
    let vm2 = new Vue({
        data: {
            a: 1
        },
        // created 钩子可以用来在一个实例被创建之后执行代码
        // 不要在选项 property 或回调上使用箭头函数
        // 因为箭头函数并没有 this，this 会作为变量一直向上级词法作用域查找，直至找到为止，经常导致错误
        create: function() {
            // `this` 指向 vm 实例
            alert('a is : ' + this.a);
        }
    })

</script>


</body>
</html>