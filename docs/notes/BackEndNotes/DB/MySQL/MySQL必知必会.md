# MySQL必知必会

## 简介

《MySQL必知必会》的学习笔记和总结。

[书籍链接](https://book.douban.com/subject/3354490/)
[电子书提取码: 待更新](.)

## 了解SQL

### 数据库基础

#### 什么是数据库

> **数据库（database）：保存有组织的数据的容器（通常是一个文
件或一组文件）。**

确切地说，数据库软件应称为DBMS（数据库管理系统）。数据库是通过DBMS创建和操纵的容器。数据库可以是保存在硬设备上的文件，但也可以不是。

#### 表

> **表（table）：某种特定类型数据的结构化清单。**

表名的唯一性取决于多个因素，如数据库名和表名等的结合。这表示，虽然在相同数据库中不能两次使用相同的表名，但在不同的数据库中却可以使用相同的表名。

表具有一些特性，这些特性定义了数据在表中如何存储，描述表的这些特性就是所谓的模式，模式可以用来描述数据库中特定的表以及整个数据库（和其中表的关系）。

> **模式（schema）：关于数据库和表的布局及特性的信息。**

#### 列和数据类型

> **列（column）：表中的一个字段。所有表都是由一个或多个列组成的。**

> **数据类型（datatype）：所容许的数据的类型。每个表列都有相应的数据类型，它限制（或容许）该列中存储的数据。**

#### 行

> **行（row）：表中的一个记录。**

行（row）有时也称为数据库记录（record）。

#### 主键

> **主键（primary key）：一列（或一组列），其值能够唯一区分表中每个行。**

应该尽量应保证他们创建的每个表具有一个主键，以便于以后的数据操纵和管理。

表中的任何列都可以作为主键，只要它满足以下条件：

* 任意两列都不具有相同的主键值；
* 每个列都必须具有一个主键值（主键列不允许NULL值）。

除了以上的条件，使用主键几个比较好的习惯：

* 不更新主键列中的值；
* 不重用主键列的值；
* 不在主键列中使用可能会更改的值。
  
当然还有一种重要的键，即**外键**，后面会介绍到。

### 什么是SQL

SQL是一种专门用来与数据库通信的语言。设计SQL的目的是很好地完成一项任务，即提供一种从数据库中读写数据的简单有效的方法。

SQL有如下的优点：

* SQL不是某个特定数据库供应商专有的语言。几乎所有重要的DBMS都支持SQL，所以，学习此语言使你几乎能与所有数据库打交道。
* SQL简单易学。它的语句全都是由描述性很强的英语单词组成，而且这些单词的数目不多。
* SQL尽管看上去很简单，但它实际上是一种强有力的语言，灵活使用其语言元素，可以进行非常复杂和高级的数据库操作。

值得注意的是，不要认为所有的SQL语法是完全可移植的。

## MySQL简介

### 什么是MySQL

MySQL是一种DBMS（数据库管理系统），即它是一种数据库软件。

### MySQL版本

TODO: 待更新。

## 使用MySQL

### 选择数据库

```sql
// 创建数据库
create database learnDB;
// 使用数据库
use learnDB
```

### 了解数据库和表

`show databases;` 返回可用数据库的一个列表。包含在这个列表中的可能是MySQL内部使用的数据库。

`show tables;` 返回当前选择的数据库内可用表的列表。

`show columns from table;` 要求给出一个表名，它对每个字段返回一行，行中包含字段名、数据类型、是否允许NULL、键信息、默认值以及其他信息。

`describe table;` 是`show columns from table;`的一种快捷形式。

**自动增量**：某些表列需要唯一值。在每个行添加到表中时，MySQL可以自动地为每个行分配下一个可用编号，不用在添加一行时手动分配唯一值（这样做必须记住最后一次使用的值）。这个功能就是所谓的自动增量。

**其他`show`语句**：

* `show status;` 用于显示广泛的服务器状态信息。
* `show create database;` 和 `show create table;` 分别用来显示创建特定数据库或表。
* `show grants;` 用来显示授予用户（所有用户或者特定用户）的安全权限。
* `show errors;` 和 `show warnings;` 用来显示服务器错误或警告信息。

## 检索数据

## 排序检索数据

## 过滤数据

## 数据过滤

## 用通配符进行过滤

## 同正则表达式进行搜索

## 创建计算字段

## 使用数据处理函数

## 汇总数据

## 分组数据

## 使用子查询

## 连结表

## 创建高级联结

## 组合查询

## 全文本搜索

## 插入数据

## 更新和删除数据

## 创建和操纵表

## 使用视图

## 使用存储过程

## 使用游标

## 使用触发器

## 管理事物处理

## 全球化和本地化

## 安全管理

## 数据库维护

## 改善性能